<!DOCTYPE html>
<html>
<body>

  <canvas id="myCanvas" ></canvas>
  <button onclick="start()">Start</button>
  <button onclick="myFunction()">BFS</button>

</body>
<script>
function Point(x, y) {
  this.x = x;
  this.y = y;
}
const NUM_OF_VERTEXES = 7;
const GAP_BETWEEN_VERTEXES = 80;
const VERTEXES_SIZE = 40;
var vertexArray = [];
var edgeArray = new Array(NUM_OF_VERTEXES);

function start() {
  var canvas = document.getElementById("myCanvas");
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight - 40;

  var ctx = canvas.getContext("2d");
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  vertexArray = [];

  var i;
  for (i = 0; i < NUM_OF_VERTEXES; i++) {
    var candidatePoint;
    do {
      candidatePoint = new Point(
        Math.max(VERTEXES_SIZE,(Math.random() * canvas.width) - VERTEXES_SIZE)
        ,Math.max(VERTEXES_SIZE,(Math.random() * canvas.height) -VERTEXES_SIZE));

      }
      while (!isPointNotInRadiusOfOtherPoints(vertexArray,candidatePoint));
      vertexArray.push(candidatePoint)
      edgeArray[i] = [(i +1) % 7];
    }

    //drawArrows
    for (i = 0; i < edgeArray.length; i++) {
      var edge = edgeArray[i][0];
      var edgePoint1 = vertexArray[i];
      var edgePoint2 = vertexArray[edge];

      var lineAngle = ((edgePoint2.y - edgePoint1.y)/(edgePoint2.x - edgePoint1.x));
      var newX = (edgePoint2.x - VERTEXES_SIZE)
      if (edgePoint1.x > edgePoint2.x) {
        var newX = (edgePoint2.x + VERTEXES_SIZE)
      }
      var newY = lineAngle *(newX - edgePoint1.x) + edgePoint1.y

      drawArrow(edgePoint1.x,edgePoint1.y,newX,newY,'black',1);
    }


    drawAllVertexes(vertexArray);


  }

  function isPointNotInRadiusOfOtherPoints(arrayOfPoints,point) {
    var i;
    for (i = 0; i < arrayOfPoints.length; i++) {

      var iterationPoint = arrayOfPoints[i];

      if (Math.abs(iterationPoint.x - point.x) < GAP_BETWEEN_VERTEXES ||
      Math.abs(iterationPoint.y - point.Y) < GAP_BETWEEN_VERTEXES){
        return false;
      }
    }
    return true;
  }
  function drawAllVertexes(arrayOfPoints) {
    var i;
    for (i = 0; i < arrayOfPoints.length; i++) {
      drawVertex(arrayOfPoints[i].x,arrayOfPoints[i].y,i);
    }
  }

  function drawVertex(x,y,text) {
    var c = document.getElementById("myCanvas");
    var ctx = c.getContext("2d");
    ctx.beginPath();
    ctx.fillStyle = 'orange';
    ctx.arc(x,y,VERTEXES_SIZE,0,2*Math.PI);
    ctx.fill();

    ctx.fillStyle = 'black';
    ctx.textAlign = "center";
    ctx.textBaseline = "middle";
    ctx.font = '16px serif';
    ctx.fillText(text, x,y);


  }

  function drawArrow(startX, startY, endX, endY,color,lineSize){
    var c = document.getElementById("myCanvas");
    var ctx = c.getContext("2d");

    var headLength = 10;   // length of head in pixels
    var angle = Math.atan2(endY - startY,endX - startX);
    ctx.moveTo(startX, startY);
    ctx.lineTo(endX, endY);
    ctx.lineTo(endX - (headLength * Math.cos(angle - Math.PI/6)) ,
    endY - (headLength * Math.sin(angle - Math.PI/6)));
    ctx.moveTo(endX, endY);
    ctx.lineTo(endX - (headLength * Math.cos(angle + Math.PI/6)),
    endY - (headLength * Math.sin(angle + Math.PI/6)));
    ctx.strokeStyle = color;
    ctx.lineWidth = lineSize;
    ctx.stroke();

  }


  start();

</script>

</html>



//add arrows. after adding - make sure that they are not crossing each other.


//BFS (button)
//split into js files
